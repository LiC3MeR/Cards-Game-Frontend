# Frontend - Cards Game

Nuxt 3 frontend –¥–ª—è –∫–∞—Ä—Ç–æ—á–Ω–æ–π –∏–≥—Ä—ã —Å PWA –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π.

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:

```env
API_BASE_URL=http://localhost:3000/api
```

## üèÉ –ó–∞–ø—É—Å–∫

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –°–±–æ—Ä–∫–∞
npm run build

# –ü—Ä–µ–≤—å—é
npm run preview
```

## üì± –°—Ç—Ä–∞–Ω–∏—Ü—ã

- `/` - –ì–ª–∞–≤–Ω–∞—è (–ø—Ä–æ—Ñ–∏–ª—å, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- `/auth/login` - –í—Ö–æ–¥
- `/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `/packs` - –ú–∞–≥–∞–∑–∏–Ω –ø–∞–∫–æ–≤
- `/collection` - –ö–æ–ª–ª–µ–∫—Ü–∏—è –∫–∞—Ä—Ç
- `/market` - –¢–æ—Ä–≥–æ–≤–∞—è –ø–ª–æ—â–∞–¥–∫–∞

## üé® UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### NavBar
–í–µ—Ä—Ö–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ù–∞–∑–∞–¥" –∏ "–í—ã—Ö–æ–¥"

### BottomNav
–ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (–ì–ª–∞–≤–Ω–∞—è, –ü–∞–∫–∏, –ö–æ–ª–ª–µ–∫—Ü–∏—è, –†—ã–Ω–æ–∫)

### CardItem
–ö–∞—Ä—Ç–æ—á–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

### PackOpenModal
–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–∞–∫–∞

### SellCardForm
–§–æ—Ä–º–∞ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã –Ω–∞ –ø—Ä–æ–¥–∞–∂—É

## üóÇÔ∏è Stores (Pinia)

### authStore
- `login()` - –í—Ö–æ–¥
- `register()` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `logout()` - –í—ã—Ö–æ–¥
- `fetchUser()` - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### userStore
- `fetchProfile()` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `fetchBalance()` - –ë–∞–ª–∞–Ω—Å
- `claimDailyBonus()` - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å

### cardsStore
- `fetchAllCards()` - –í—Å–µ –∫–∞—Ä—Ç—ã
- `fetchMyCards()` - –ú–æ—è –∫–æ–ª–ª–µ–∫—Ü–∏—è
- `cardsByRarity` - –ö–∞—Ä—Ç—ã –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏ (getter)

### packsStore
- `fetchPacks()` - –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞–∫–∏
- `openPack()` - –û—Ç–∫—Ä—ã—Ç—å –ø–∞–∫
- `clearOpenedCards()` - –û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### marketStore
- `fetchOrders()` - –ê–∫—Ç–∏–≤–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞
- `createOrder()` - –°–æ–∑–¥–∞—Ç—å –æ—Ä–¥–µ—Ä
- `buyOrder()` - –ö—É–ø–∏—Ç—å –∫–∞—Ä—Ç—É
- `cancelOrder()` - –û—Ç–º–µ–Ω–∏—Ç—å –æ—Ä–¥–µ—Ä
- `fetchMyOrders()` - –ú–æ–∏ –æ—Ä–¥–µ—Ä–∞

## üé® –°—Ç–∏–ª–∏

### Tailwind Classes

**–ö–Ω–æ–ø–∫–∏:**
- `.btn-primary` - –û—Å–Ω–æ–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞
- `.btn-secondary` - –í—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞

**–ò–Ω–ø—É—Ç—ã:**
- `.input-field` - –ü–æ–ª–µ –≤–≤–æ–¥–∞

**–≠—Ñ—Ñ–µ–∫—Ç—ã:**
- `.glass-effect` - –≠—Ñ—Ñ–µ–∫—Ç –º–∞—Ç–æ–≤–æ–≥–æ —Å—Ç–µ–∫–ª–∞

**–†–µ–¥–∫–æ—Å—Ç—å –∫–∞—Ä—Ç:**
- `.card-rarity-common` - –û–±—ã—á–Ω–∞—è
- `.card-rarity-rare` - –†–µ–¥–∫–∞—è
- `.card-rarity-epic` - –≠–ø–∏—á–µ—Å–∫–∞—è
- `.card-rarity-legendary` - –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è
- `.card-rarity-mythic` - –ú–∏—Ñ–∏—á–µ—Å–∫–∞—è (—Å –∞–Ω–∏–º–∞—Ü–∏–µ–π)

## üì± PWA

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É –∫–∞–∫ PWA:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ Chrome –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º
2. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω"
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `nuxt.config.ts`:

```typescript
pwa: {
  manifest: {
    name: 'Cards Game',
    short_name: 'Cards',
    theme_color: '#4F46E5',
    display: 'standalone',
    orientation: 'portrait',
  }
}
```

## üîí Middleware

### auth.ts
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ JWT —Ç–æ–∫–µ–Ω–∞ –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ `/auth/login` –µ—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```vue
<script setup>
definePageMeta({
  middleware: 'auth'
})
</script>
```

## üé® –ê–Ω–∏–º–∞—Ü–∏–∏

- `animate-card-flip` - –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–∞ –∫–∞—Ä—Ç—ã
- `animate-card-glow` - –≠—Ñ—Ñ–µ–∫—Ç —Å–≤–µ—á–µ–Ω–∏—è –¥–ª—è –º–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∫–∞—Ä—Ç
- `animate-bounce-slow` - –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–æ–¥–ø—Ä—ã–≥–∏–≤–∞–Ω–∏–µ

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í—ã–∑–æ–≤ API

```typescript
const config = useRuntimeConfig()
const authStore = useAuthStore()

const data = await $fetch(`${config.public.apiBase}/cards`, {
  headers: authStore.getAuthHeader()
})
```

### –†–∞–±–æ—Ç–∞ —Å–æ Stores

```typescript
import { useCardsStore } from '~/stores/cards'

const cardsStore = useCardsStore()
await cardsStore.fetchMyCards()

const cards = computed(() => cardsStore.myCards)
```

## üêõ Troubleshooting

### –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç PWA
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ HTTPS –∏–ª–∏ localhost

### –û—à–∏–±–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage –∏ –Ω–µ –∏—Å—Ç–µ–∫

### API –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `API_BASE_URL` –≤ `.env`

